<!DOCTYPE html>

<html>
    <head>
        <link href="radar.css" rel="stylesheet" type="text/css"/>
    </head>

    <body>
        <!-- 雷达主界面 -->
        <div id="radarFrame">
            <div class="frame_border"></div>

            <div class="radar_container"> 
                <div class="panel_side panel_left"></div>

                <div id="radar">
                    <div class="label label_top">前方车辆</div>

                    <!-- 电源控制区 -->
                    <div class="pwr_button_container">
                        <div id="pwrBtn" data-nuitype="togglePower" class="pwr_button">电源</div>
                    </div>

                    <!-- 工作模式显示区 -->
                    <div class="modes_container">
                        <div class="modes">
                            <p id="frontSame">正前</p>
                            <p id="frontOpp">左前</p>
                            <p id="frontXmit">开启</p>
                        </div>

                        <div class="modes">
                            <p id="rearSame">正后</p>
                            <p id="rearOpp">左后</p>
                            <p id="rearXmit">开启</p>
                        </div>
                    </div>

                    <!-- 速度显示区 -->
                    <div class="speeds_container">
                        <div class="display">
                            <p class="ghost_speed">888</p>
                            <p class="speed" id="frontSpeed"></p>
                        </div>

                        <div class="display">
                            <p class="ghost_speed">888</p>
                            <p class="speed" id="rearSpeed"></p>
                        </div>
                    </div>

                    <!-- 方向指示区 -->
                    <div class="speed_arrows_container">
                        <div class="speed_arrows">
                            <div class="arrow" id="frontDirAway"></div>
                            <div class="arrow arrow_down" id="frontDirTowards"></div>
                        </div>

                        <div class="speed_arrows">
                            <div class="arrow" id="rearDirTowards"></div>
                            <div class="arrow arrow_down" id="rearDirAway"></div>
                        </div>
                    </div>

                    <!-- 快速锁定状态区 -->
                    <div class="modes_container">
                        <div class="modes fast_top">
                            <p id="frontFastLabel">快速</p>
                            <p id="frontFastLockLabel">锁定</p>
                        </div>

                        <div class="modes fast_bottom">
                            <p id="rearFastLabel">快速</p>
                            <p id="rearFastLockLabel">锁定</p>
                        </div>
                    </div>

                    <!-- 快速速度显示区 -->
                    <div class="speeds_container">
                        <div class="display fast fast_top">
                            <p class="fast_ghost_speed">888</p>
                            <p class="fast_speed" id="frontFastSpeed"></p>
                        </div>

                        <div class="display fast fast_bottom">
                            <p class="fast_ghost_speed">888</p>
                            <p class="fast_speed" id="rearFastSpeed"></p>
                        </div>
                    </div>

                    <!-- 巡逻速度显示区 -->
                    <div class="patrol_and_logo_container">
                        <div class="logo"><span class="name">Re:Clannad</span></div>

                        <div class="speeds_container">
                            <div class="display fast">
                                <p class="patrol_ghost_speed">888</p>
                                <p class="patrol_speed" id="patrolSpeed"></p>
                            </div>
                        </div>

                        <div class="speed_label">巡逻速度</div>
                    </div>

                    <div class="label label_bottom">后方车辆</div>
                </div>

                <div class="panel_side panel_right"></div>
            </div>
        </div>

        <!-- 遥控器界面 -->
        <div id="rc">
            <button id="toggleDisplay" data-nuitype="toggleRadarDisplay" class="rounded_btn toggle_display">测速仪启动/关闭</button>
            <p class="label">前方探测控制</p>
            <div class="antenna_btns_container">
                <div class="btns btns_top">
                    <button id="frontOppMode" data-nuitype="setAntennaMode" data-value="front" data-mode="2" class="zone_btn top_left">左前测速</button>
                    <div class="xmit_wrap">
                        <div class="xmit_btn xmit_top">
                            <div class="arrow"></div>
                            <button id="frontXmitToggle" data-nuitype="toggleAntenna" data-value="front" class="top_middle">开/关</button>
                        </div>
                    </div>
                    <button id="frontSameMode" data-nuitype="setAntennaMode" data-value="front" data-mode="1" class="zone_btn top_right">正前测速</button>
                </div>
                <div class="breaker"></div>
                <div class="btns btns_bottom">
                    <button id="rearOppMode" data-nuitype="setAntennaMode" data-value="rear" data-mode="2" class="zone_btn bottom_left">左后测速</button>

                    <div class="xmit_wrap">
                        <div class="xmit_btn xmit_bottom">
                            <div class="arrow arrow_bottom"></div>
                            <button id="rearXmitToggle" data-nuitype="toggleAntenna" data-value="rear" class="bottom_middle">开启/关闭</button>
                        </div>
                    </div>    

                    <button id="rearSameMode" data-nuitype="setAntennaMode" data-value="rear" data-mode="1" class="zone_btn bottom_right">后方测速</button>
                </div>
            </div>

            <p class="label">后方探测控制</p>

            <button id="menuButton" data-nuitype="menu" class="circle_btn menu blue">菜单</button>

            <div class="plate_reader_and_help_container">
                <button id="plateReaderBtn" class="plate_reader blue">车牌识别</button>
                <button id="helpBtn" class="help blue">帮助</button>
            </div>

            <button id="uiSettings" class="rounded_btn light blue">界面设置</button>

            <p class="logo"><span class="large">BeathofGod</span> C L</p>
        </div>
        
        <!-- 车牌识别界面 -->
        <div id="plateReaderFrame">
            <div class="frame_border"></div>

            <div id="plateReader">
                <div class="labels">
                    <p class="title">前视</p>
                    <p class="title">后视</p>
                </div>

                <div class="plates">
                    <div id="frontPlate" class="plate_container">
                        <!-- 默认显示蓝牌小车牌(4.png)，其他类型见 radar.js 中的索引对照表 -->
                        <img id="frontPlateImg" class="plate" src="images/plates/4.png">
                        
                        <div id="frontPlateText" class="text_container" style="position: absolute; top: 50%; left: 58%; transform: translate(-50%, -50%); margin-top: -15px;">
                            <p id="frontPlateTextFill" class="plate_blue"></p>
                            <p class="hilite"></p>
                            <p id="frontPlateTextLolite" class="lolite"></p>
                            <p class="shadow"></p>
                        </div>
                    </div>

                    <div id="rearPlate" class="plate_container">
                        <!-- 默认显示蓝牌小车牌(4.png)，其他类型见 radar.js 中的索引对照表 -->
                        <img id="rearPlateImg" class="plate" src="images/plates/4.png">

                        <div id="rearPlateText" class="text_container" style="position: absolute; top: 50%; left: 58%; transform: translate(-50%, -50%); margin-top: -15px;">
                            <p id="rearPlateTextFill" class="plate_blue"></p>
                            <p class="hilite"></p>
                            <p id="rearPlateTextLolite" class="lolite"></p>
                            <p class="shadow"></p>
                        </div>
                    </div>
                </div>

                <div class="labels">
                    <p id="frontPlateLock">已锁定</p>
                    <p id="rearPlateLock">已锁定</p>
                </div>
            </div>
        </div>

        <!-- 车牌识别设置面板 -->
        <div id="plateReaderBox">
            <div class="header">
                <p class="title">车牌识别设置</p>
            </div>

            <div class="container">
                <button id="togglePlateReader" data-nuitype="togglePlateReaderDisplay" class="btn">显示车牌识别</button>

                <input id="boloText" type="text" maxlength="8" placeholder="车牌号" onkeypress="checkPlateInput(event)" class="plate_input"/>

                <button id="setBoloPlate" class="btn">对车牌进行通缉</button>

                <button id="clearBoloPlate" class="btn">清除通缉</button>
            </div>

            <button id="closePlateReaderSettings" class="close">关闭</button>
        </div>

        <!-- 界面设置面板 -->
        <div id="uiSettingsBox">
            <div class="header">
                <p class="title">界面设置</p>
            </div>

            <div class="scaling_container">
                <div class="scaling">
                    <div id="radarDecreaseScale" class="symbol minus"></div>

                    <div class="info">
                        <p>雷达缩放</p>
                        <p id="radarScaleDisplay" class="multiplier">1.00x</p>
                    </div>

                    <div id="radarIncreaseScale" class="symbol plus"></div>
                </div>

                <div class="scaling">
                    <div id="remoteDecreaseScale" class="symbol minus"></div>

                    <div class="info">
                        <p>遥控器缩放</p>
                        <p id="remoteScaleDisplay" class="multiplier">1.00x</p>
                    </div>

                    <div id="remoteIncreaseScale" class="symbol plus"></div>
                </div>

                <div class="scaling">
                    <div id="readerDecreaseScale" class="symbol minus"></div>

                    <div class="info">
                        <p>车牌缩放</p>
                        <p id="readerScaleDisplay" class="multiplier">1.00x</p>
                    </div>

                    <div id="readerIncreaseScale" class="symbol plus"></div>
                </div>
            </div>
            
            <div class="safezone_container">
                <p>安全区域: <span id="safezoneDisplay">0px</span></p>
                <input type="range" min="0" max="100" value="0" step="5" class="slider" id="safezone">
            </div>

            <button id="closeUiSettings" class="close">关闭</button>
        </div>
        
        <!-- 键盘锁定状态提示 -->
        <p id="keyLockLabel">雷达按键绑定 <span id="keyLockStateLabel"></span></p>

        <!-- 帮助窗口 -->
        <div id="helpWindow">
            <iframe id="helpWeb" src="about:blank"></iframe>
            <button id="closeHelp" class="close">关闭帮助</button>
        </div>

        <!-- 新用户引导 -->
        <div id="newUser">
            <p class="msg">您好，似乎这是你第一次使用测速仪，联系你的教官指导你</p>
            <button id="showQuickStartVideo" class="btn_yes">是</button>
            <button id="closeNewUserMsg" class="btn_no">否</button>
        </div>

        <!-- 快速入门视频窗口 -->
        <div id="quickStart">
            <iframe id="quickStartVideo" src="about:blank" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe>
            <button id="closeQuickStart" class="close">关闭视频</button>
        </div>

        <!-- 加载JavaScript文件 -->
        <script src="nui://game/ui/jquery.js" type="text/javascript"></script>
        <script src="radar.js"></script>
    </body>
</html>